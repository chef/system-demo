{
    "name":"test_scenario_1",
    "description": "scan and remediate",
    "immediate": true,
    "exceptionRules":[],
    "target":{
            "executionType": "sequential",
            "groups":[{
                "timeoutSeconds": 160,
                "batchSize": {
                    "type": "number",
                    "value": 1
                },
                "distributionMethod":"batching",
                "successCriteria": [{ "numRuns": { "type": "percent", "value": 100 }, "status": "success" }],
                "nodeListType":"nodes",
                "nodeIdentifiers":["--NODE1--","--NODE2--", "--NODE3--"] 
                },
                {
                "timeoutSeconds": 160,
                "batchSize": {
                    "type": "number",
                    "value": 1
                },
                "distributionMethod":"batching",
                "successCriteria": [{ "numRuns": { "type": "percent", "value": 100 }, "status": "success" }],
                "nodeListType":"nodes",
                "nodeIdentifiers":["--NODE4--","--NODE5--", "--NODE6--"] 
                },
                {
                "timeoutSeconds": 160,
                "batchSize": {
                    "type": "number",
                    "value": 1
                },
                "distributionMethod":"batching",
                "successCriteria": [{ "numRuns": { "type": "percent", "value": 100 }, "status": "success" }],
                "nodeListType":"nodes",
                "nodeIdentifiers":["--NODE4--","--NODE5--", "--NODE6--"] 
                }
            ]
        },
    "actions":
        {
            "accessMode": "agent",
            "steps": 
            [{
              "stepNumber": 1,
                "interpreter": {
                    "name":"chef-inspec-client",
                    "min_version": "3.0",
                    "max_version": "5.0"
                },
                "command": ["RHEL.policy"],
                "inputs": {"foo": "baz"},
                "expectedInputs": {
                    "foo": {
                    "default": "bar",
                    "required": false,
                    "sensitive": true
                    }
                },
                "stepOutputFieldRules": 
                {"file" : {
                    "name": "file",
                    "sourceType": "output",
                    "source": "output",
                    "extractMethod": "stringormap",
                    "expression": "optional",
                    "required": true,
                    "sensitive": false
                }},
                "retryCount": 2,
                "failureBehavior": {
                    "action": "retryThenFail",
                    "retryBackoffStrategy": {
                        "name": "none",
                        "delaySeconds": 0,
                        "arguments": [1,3,5]
                    }
                },
                "limits": {},
                "conditions": [{
                    "inputName": "input",
                    "negate": false,
                    "operator": "matches",
                    "value": "expectedValue"
                }]
            },
            {
              "stepNumber": 2,
                "interpreter": {
                    "name":"chef-inspec-client",
                    "min_version": "3.0",
                    "max_version": "5.0"
                },
                "command": ["RHEL.policy"],
                "inputs": {"foo": "baz"},
                "expectedInputs": {
                    "foo": {
                    "default": "bar",
                    "required": false,
                    "sensitive": true
                    }
                },
                "stepOutputFieldRules":{ 
                "file": {
                    "name": "file",
                    "sourceType": "output",
                    "source": "output",
                    "extractMethod": "stringormap",
                    "expression": "optional",
                    "required": true,
                    "sensitive": false
                }},
                "retryCount": 2,
                "failureBehavior": {
                    "action": "retryThenFail",
                    "retryBackoffStrategy": {
                        "name": "none",
                        "delaySeconds": 0,
                        "arguments": [1,3,5]
                    }
                },
                "limits": {},
                "conditions": [{
                    "inputName": "input",
                    "negate": false,
                    "operator": "matches",
                    "value": "expectedValue"
                }]
            }]
        },
    "timeoutSeconds": 300
}
